(this.webpackJsonpfittery=this.webpackJsonpfittery||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(28),r=a.n(n),i=a(5),o=a(16),l=a(9),j=(a(84),a(85),a(86),a.p+"static/media/logo.b71ba4e3.png"),u=a(2);function d(e){var t=function(t){console.log(t.target.name),e.setPage(t.target.name)};return Object(u.jsx)("div",{className:"topbar ".concat("home"===e.page&&"transparent"),children:Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsx)("div",{className:"left",children:Object(u.jsx)("img",{className:"logo",src:j,alt:"logo"})}),Object(u.jsxs)("div",{className:"right",children:[Object(u.jsx)(o.b,{to:"/",className:"Restaurants ".concat("home"===e.page&&"active"),name:"home",onClick:t,children:"Home"}),Object(u.jsx)(o.b,{to:"/restaurants",className:"Restaurants ".concat("restaurants"===e.page&&"active"),name:"restaurants",onClick:t,children:"Our Restaurants"}),Object(u.jsx)(o.b,{to:"/map",className:"Restaurants ".concat("map"===e.page&&"active"),name:"map",onClick:t,children:"Restaurants Location"})]})]})})}function b(e){return Object(u.jsxs)("div",{className:"hero",children:[Object(u.jsx)(d,{page:e.page,setPage:e.setPage}),Object(u.jsx)("div",{className:"txt",children:Object(u.jsxs)("h1",{children:["Support local restaurants.",Object(u.jsx)("br",{}),"Eat ",Object(u.jsx)("em",{children:"great food"})]})})]})}var h=a(52),m=a.n(h),O=a(65),p=a(66),x=a.n(p),g=Object(s.createContext)(),v=function(e){var t=e.children,a=Object(s.useState)(),c=Object(i.a)(a,2),n=c[0],r=c[1],o=function(){var e=Object(O.a)(m.a.mark((function e(t){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://redi-final-restaurants.herokuapp.com/restaurants");case 2:a=e.sent,s=a.data,t(s.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){o(r)}),[]),Object(u.jsx)(g.Provider,{value:n,children:t})},f=Object(s.createContext)(),C=Object(s.createContext)(),N=function(e){var t=e.children,a=Object(s.useState)(0),c=Object(i.a)(a,2),n=c[0],r=c[1],o=Object(s.useState)(""),l=Object(i.a)(o,2),j=l[0],d=l[1];return Object(u.jsx)(f.Provider,{value:[n,r],children:Object(u.jsx)(C.Provider,{value:[j,d],children:t})})},y=function(e){for(var t=[],a=1;a<=Math.ceil(e.totalRes/e.resPerPage);a++)t.push(a);return console.log(e.resPerPage),console.log(e.totalRes),console.log(t),Object(u.jsx)("nav",{children:Object(u.jsx)("ul",{className:"pagination-ul",children:t.map((function(t){return Object(u.jsx)("li",{className:"page-item",children:Object(u.jsx)(o.b,{to:"/restaurants/",className:"page-link",onClick:function(){return e.paginate(t)},children:t})},t)}))})})},w=a(136),k=a(143),_=a(142),L=a(139),P=a(138),S=a(140),R=Object(w.a)({root:{maxWidth:400,height:350,borderRadius:15},media:{height:150}});var H=function(e){var t=R();return Object(u.jsx)(_.a,{children:Object(u.jsxs)(k.a,{className:t.root,children:[Object(u.jsx)(P.a,{className:t.media,image:e.img,title:"Contemplative Reptile"}),Object(u.jsxs)(L.a,{children:[Object(u.jsx)(S.a,{gutterBottom:!0,variant:"h4",component:"h4",children:Object(u.jsx)("div",{className:"Card-res--name",children:e.name})}),Object(u.jsx)(S.a,{gutterBottom:!0,variant:"body1",color:"textSecondary",component:"h3",children:Object(u.jsxs)("div",{className:"Card-res--type",children:[e.cuisine," ",e.type]})}),Object(u.jsx)(S.a,{variant:"body2",color:"textSecondary",component:"p",children:Object(u.jsx)("div",{className:"Card-res--address",children:e.address})}),Object(u.jsx)("div",{className:"Card-res--ul",children:e.open?Object(u.jsxs)("li",{className:"Card-res--list open",children:["Open until ",e.closeHour]}):Object(u.jsxs)("li",{className:"Card-res--list close",children:["Closed ",Object(u.jsxs)("span",{className:"open",children:["opens at ",e.openHour]})]})}),Object(u.jsxs)("div",{className:"Card-res--ul",children:[e.delivery&&Object(u.jsx)("li",{className:"Card-res--list",children:"Delivery"}),e.pickup&&Object(u.jsx)("li",{className:"Card-res--list",children:"Pickup"})]})]})]})})};function B(e){var t=e.restaurants;console.log("props comming:"+t);var a=Object(s.useState)(1),c=Object(i.a)(a,2),n=c[0],r=c[1],l=Object(s.useState)(3),j=Object(i.a)(l,1)[0],d=n*j,b=d-j,h=t.slice(b,d);return Object(u.jsxs)("div",{className:"restaurantsList-container",children:[Object(u.jsx)("div",{className:"restaurantsList",children:h.map((function(e){return Object(u.jsx)("div",{className:"res",children:Object(u.jsx)(o.b,{className:"react-router__link",to:"/restaurants/".concat(e.id),style:{textDecoration:"none"},children:Object(u.jsx)(H,{img:e.photos[0].links[0],name:e.name,address:e.formatted_address,cuisine:e.cuisine,type:e.types[0],delivery:e.delivery,pickup:e.pickup,open:e.opening_hours.open_now,openHour:e.opening_hours.hours.open,closeHour:e.opening_hours.hours.close})})},e.id)}))}),Object(u.jsx)("div",{className:"pagination",children:Object(u.jsx)(y,{resPerPage:j,totalRes:t.length,paginate:function(e){return r(e)}})})]})}a(110);var A=function(e){return Object(u.jsx)("li",{className:e.active?"active":"",onClick:function(){e.onChecked(e.id)},children:e.item})},D=function(){var e=Object(s.useContext)(f),t=Object(i.a)(e,2),a=t[0],c=t[1],n=function(e){return c(e)};return Object(u.jsx)("div",{className:"buttons-filter",children:Object(u.jsx)("ul",{children:["All","Open","Delivery","Pickup"].map((function(e,t){return Object(u.jsx)(A,{item:e,id:t,onChecked:n,active:a===t},t)}))})})},z=a(67),E=a.n(z),I=function(){var e=Object(s.useContext)(C),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(u.jsxs)("div",{className:"search-filter",children:[Object(u.jsx)(E.a,{style:{position:"absolute",right:85,top:10,width:30,height:30}}),Object(u.jsx)("input",{id:"input",className:"search-input",name:"searchBar",placeholder:"Search by Name / Cuisine ",onChange:function(e){var t=e.target.value;c(t)},value:a})]})},G=(a(111),function(){return Object(u.jsxs)("div",{className:"filter-wrapper",children:[Object(u.jsx)(I,{}),Object(u.jsx)(D,{})]})});function T(e){var t=Object(s.useContext)(g),a=Object(s.useContext)(f),c=Object(i.a)(a,1)[0],n=Object(s.useContext)(C),r=Object(i.a)(n,2),o=r[0];r[1];if(void 0!==t){var l=t,j=t.filter((function(e){return!0===e.opening_hours.open_now})),b=t.filter((function(e){return!0===e.pickup})),h=t.filter((function(e){return!0===e.delivery})),m=t.filter((function(e){return""===o||e.name.toLowerCase().includes(o.toLowerCase())||e.cuisine.toLowerCase().includes(o.toLowerCase())?e:void 0})),O=j.filter((function(e){return""===o||e.name.toLowerCase().includes(o.toLowerCase())||e.cuisine.toLowerCase().includes(o.toLowerCase())?e:void 0})),p=h.filter((function(e){return""===o||e.name.toLowerCase().includes(o.toLowerCase())||e.cuisine.toLowerCase().includes(o.toLowerCase())?e:void 0})),x=b.filter((function(e){return""===o||e.name.toLowerCase().includes(o.toLowerCase())||e.cuisine.toLowerCase().includes(o.toLowerCase())?e:void 0}));return Object(u.jsxs)("div",{className:"restaurants",children:[Object(u.jsx)(d,{page:e.page,setPage:e.setPage}),Object(u.jsx)(G,{}),Object(u.jsx)(B,{restaurants:0===c?l&&m:1===c?j&&O:2===c?h&&p:b&&x,searchValue:o})]})}return Object(u.jsx)("div",{className:"loading",children:Object(u.jsx)("h1",{children:"Loading..."})})}var V=a(53),W=a(34),q=(a(112),a(69)),J=a.n(q),M=Object(w.a)({root:{width:250,maxHeight:250},media:{height:75}});var Q=function(e){var t=M();return Object(u.jsx)(k.a,{className:t.root,"card-on-map":!0,children:Object(u.jsxs)(_.a,{children:[Object(u.jsx)(P.a,{className:t.media,image:e.img,title:"Contemplative Reptile"}),Object(u.jsxs)(L.a,{className:"card-content",children:[Object(u.jsx)(S.a,{gutterBottom:!0,variant:"h6",component:"h6",children:Object(u.jsx)("div",{className:"Card-map--name",children:e.name})}),Object(u.jsx)(S.a,{variant:"body2",color:"textSecondary",component:"p",children:Object(u.jsxs)("div",{className:"rating-container",children:[Object(u.jsx)("span",{className:"Card-map--rating",children:e.rating+" "}),Object(u.jsx)("span",{className:"Card-map--stars",children:Object(u.jsx)(J.a,{className:"Card-map--stars",value:e.rating,edit:!1,isHalf:!0})}),Object(u.jsxs)("span",{className:"Card-map--raters",children:[" (",e.usrs,")"]})]})}),Object(u.jsx)(S.a,{gutterBottom:!0,variant:"body2",color:"textSecondary",component:"p",children:Object(u.jsxs)("div",{className:"Card-map--type",children:[e.cuisine," ",e.type]})}),Object(u.jsx)("div",{className:"Card-map--hours",children:e.open?Object(u.jsxs)("li",{className:"Card-map--hours open",children:["Open until ",Object(u.jsx)("span",{className:"close",children:e.closeHour})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("li",{className:"Card-map--hours card-res--name close",children:"Closed"}),Object(u.jsxs)("li",{className:"Card-map--hours open",children:["Openes at ",e.openHour]})]})})]})]})})},U=a.p+"static/media/marker.bc5c2afd.png",Y=function(e){console.log(U);var t=e.restaurants,a=e.searchValue,c=Object(s.useState)(null),n=Object(i.a)(c,2),r=(n[0],n[1]),l=Object(s.useState)(null),j=Object(i.a)(l,2),d=j[0],b=j[1];return Object(u.jsxs)("div",{children:[t.filter((function(e){return""===a||e.name.toLowerCase().includes(a.toLowerCase())||e.cuisine.includes(a.toLowerCase())?e:void 0})).map((function(e){return Object(u.jsx)(W.a,{latitude:e.geometry.location.lat,longitude:e.geometry.location.lng,children:Object(u.jsxs)("div",{className:"marker-btn",children:[Object(u.jsx)("img",{src:U,onClick:function(t){r(setTimeout((function(){t.preventDefault(),b(e)}),200))}}),Object(u.jsx)("p",{className:"map-res--name",children:e.name})]})},e.id)})),d&&Object(u.jsx)(W.b,{latitude:d.geometry.location.lat,longitude:d.geometry.location.lng,closeButton:!0,closeOnClick:!1,closeOnMove:!0,maxWidth:"auto",onClose:function(){b(null)},children:Object(u.jsx)(o.b,{className:" ",to:"/restaurants/".concat(d.id),style:{textDecoration:"none"},children:Object(u.jsx)(Q,{img:d.photos[0].links[0],name:d.name,rating:d.rating,usrs:d.user_ratings_total,cuisine:d.cuisine,type:d.types[0],delivery:d.delivery,pickup:d.pickup,open:d.opening_hours.open_now,openHour:d.opening_hours.hours.open,closeHour:d.opening_hours.hours.close})})})]})};var F=function(e){var t=Object(s.useContext)(g),a=Object(s.useContext)(f),c=Object(i.a)(a,1)[0],n=Object(s.useContext)(C),r=Object(i.a)(n,2),o=r[0],l=(r[1],Object(s.useState)({latitude:52.5158,longitude:13.454,width:"100%",height:"87vh",zoom:11})),j=Object(i.a)(l,2),b=j[0],h=j[1];if(void 0!==t){var m=t,O=t.filter((function(e){return!0===e.opening_hours.open_now})),p=t.filter((function(e){return!0===e.pickup})),x=t.filter((function(e){return!0===e.delivery}));return Object(u.jsxs)("div",{children:[Object(u.jsx)(d,{page:e.page,setPage:e.setPage}),Object(u.jsxs)(W.c,Object(V.a)(Object(V.a)({},b),{},{mapboxApiAccessToken:"pk.eyJ1IjoieWFubzBvIiwiYSI6ImNrcHBuOGUzZzA4emwyb2s5bnQzcXlqZGwifQ.YmQYqPOConw4U5-GqUEdtA",onViewportChange:function(e){h(e)},mapStyle:"mapbox://styles/mapbox/navigation-day-v1",children:[Object(u.jsx)(G,{}),Object(u.jsx)(Y,{restaurants:0===c?m:1===c?O:2===c?x:p,searchValue:o})]}))]})}return Object(u.jsx)("h1",{children:"loading"})},Z=a(141),X=(a(115),a(70)),K=a.n(X),$=a(71),ee=a.n($),te=function(e){var t=e.images,a=Object(s.useState)(0),c=Object(i.a)(a,2),n=c[0],r=c[1],o=Object(s.useRef)();Object(s.useEffect)((function(){return o.current=setTimeout((function(){r(n===t.length-1?0:n+1)}),3500),function(){clearTimeout(o.current)}}));return Object(u.jsxs)("div",{className:"carousel",children:[Object(u.jsx)(K.a,{className:"carousel__arrow",onClick:function(){r(0===n?t.length-1:n-1)}}),Object(u.jsx)("img",{className:"carousel__img",src:t[n],alt:""}),Object(u.jsx)(ee.a,{className:"carousel__arrow",onClick:function(){r(n===t.length-1?0:n+1)}})]})},ae=function(e){var t=e.match,a=Object(s.useContext)(g);if(!a)return null;var n=a.filter((function(e){return e.id===t.params.id}));return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(o.b,{className:"goback__link",to:"/restaurants",children:"Go Back"}),Object(u.jsx)(Z.a,{fluid:!0,maxWidth:"sm",children:n.map((function(e){return Object(u.jsxs)("div",{className:"restaurantScreen",children:[Object(u.jsx)("h1",{children:e.name}),Object(u.jsx)(te,{images:e.photos[0].links}),Object(u.jsx)("h2",{children:"Description"}),Object(u.jsx)("p",{children:e.cuisine}),Object(u.jsx)("p",{children:e.dietaryRestrictions}),Object(u.jsxs)("div",{className:"restaurantScreen__address",children:[Object(u.jsx)("h2",{children:"Address"}),Object(u.jsx)("p",{children:e.formatted_address})]})]},e.id)}))})]})};var se=function(){var e=Object(s.useState)("home"),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(u.jsx)(o.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l.a,{path:"/",exact:!0,children:Object(u.jsx)(b,{page:a,setPage:c})}),Object(u.jsxs)(v,{children:[Object(u.jsxs)(N,{children:[Object(u.jsx)(l.a,{path:"/restaurants",exact:!0,children:Object(u.jsx)(T,{page:a,setPage:c})}),Object(u.jsx)(l.a,{path:"/map",exact:!0,children:Object(u.jsx)(F,{page:a,setPage:c})})]}),Object(u.jsx)(l.a,{path:"/restaurants/:id",component:ae})]})]})})};a(116);r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(se,{})}),document.getElementById("root"))},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.5308ad59.chunk.js.map